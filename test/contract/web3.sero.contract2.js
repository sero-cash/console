var Web3 = require("../../lib/web3");
var web3 = new Web3(new Web3.providers.HttpProvider("http://127.0.0.1:8545"))
// var anonymouscoinContract = web3.sero.contract([{"constant":false,"inputs":[{"name":"amount","type":"uint64"}],"name":"increaseToken","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"x","type":"bytes32"}],"name":"bytes32ToString","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"ticket2Coin","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"toAddr","type":"address"},{"name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"},{"name":"","type":"bytes32"}],"name":"prices","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"coinName","type":"string"}],"name":"total","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"category","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"coinName","type":"string"}],"name":"registerToken","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"coinName","type":"string"}],"name":"buyTicket","outputs":[{"name":"","type":"bool"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"coinName","type":"string"},{"name":"currency","type":"string"},{"name":"price","type":"uint64"}],"name":"setPrice","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"","type":"string"},{"indexed":false,"name":"","type":"bytes32"}],"name":"Log","type":"event"}]);
// var anonymouscoin = anonymouscoinContract.new(
//     {
//         from: web3.sero.accounts[0],
//         data: '0x7f3be6bf24d822bcd6f6348f6f5a5c2d3108f04991ee63e80cde49a8c4746a0ef36000557fcf19eb4256453a4e30b6a06d651f1970c223fb6bd1826a28ed861f0e602db9b86001557f868bd6629e7c2e3d2ccf7b9968fad79b448e7a2bfb3ee20ed1acbc695c3c8b236002557fa6a366f1a72e1aef5d8d52ee240a476f619d15be7bc62d3df37496025b83459f6003557f7c98e64bd943448b4e24ef8c2cdec7b8b1275970cfe10daf2a9bfa4b04dce9056004557ff1964f6690a0536daa42e5c575091297d2479edcc96f721ad85b95358644d27660059081557f9ab0d7c07029f006485cf3468ce7811aa8743b5a108599f6bec9367c50ac6aad6006557f0d3419022a97c2b5b03008b32a2cb33ab9f9b6721ce570c5031e04b6eadeb63060075560c060405260808190527f434f494e4100000000000000000000000000000000000000000000000000000060a090815261015e9160089190610183565b5034801561016b57600080fd5b5060098054600160a060020a0319163317905561021e565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106101c457805160ff19168380011785556101f1565b828001600101855582156101f1579182015b828111156101f15782518255916020019190600101906101d6565b506101fd929150610201565b5090565b61021b91905b808211156101fd5760008155600101610207565b90565b611078806200022e6000396000f3006080604052600436106100ae5763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416636da57bf681146100b35780638da5cb5b146100e95780639201de5514610127578063941e291a146101b4578063a9059cbb146101de578063be9866001461020f578063e9c55dda14610247578063ef430aa6146102a0578063f1b646e9146102b5578063fa30b2511461030e578063fcefd2a71461035a575b600080fd5b3480156100bf57600080fd5b506100d567ffffffffffffffff600435166103fd565b604080519115158252519081900360200190f35b3480156100f557600080fd5b506100fe610598565b6040805173ffffffffffffffffffffffffffffffffffffffff9092168252519081900360200190f35b34801561013357600080fd5b5061013f6004356105b4565b6040805160208082528351818301528351919283929083019185019080838360005b83811015610179578181015183820152602001610161565b50505050905090810190601f1680156101a65780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156101c057600080fd5b506101cc60043561076b565b60408051918252519081900360200190f35b3480156101ea57600080fd5b506100d573ffffffffffffffffffffffffffffffffffffffff6004351660243561077d565b34801561021b57600080fd5b5061022a60043560243561086f565b6040805167ffffffffffffffff9092168252519081900360200190f35b34801561025357600080fd5b506040805160206004803580820135601f810184900484028501840190955284845261022a9436949293602493928401919081908401838280828437509497506108969650505050505050565b3480156102ac57600080fd5b5061013f610914565b3480156102c157600080fd5b506040805160206004803580820135601f81018490048402850184019095528484526101cc9436949293602493928401919081908401838280828437509497506109a29650505050505050565b6040805160206004803580820135601f81018490048402850184019095528484526100d5943694929360249392840191908190840183828082843750949750610bb49650505050505050565b34801561036657600080fd5b506040805160206004803580820135601f81018490048402850184019095528484526100d594369492936024939284019190819084018382808284375050604080516020601f89358b018035918201839004830284018301909452808352979a9998810197919650918201945092508291508401838280828437509497505050923567ffffffffffffffff169350610d9992505050565b6000806000606061040c610eb8565b925082151561041a57600080fd5b6000838152600c6020526040902054915081151561043757600080fd5b610440826105b4565b90506104568567ffffffffffffffff1682610eeb565b156100ae5784600d6000836040518082805190602001908083835b602083106104905780518252601f199092019160209182019101610471565b518151602093840361010090810a600019908101801990941693909216929092179092526040805194909601849003909320885287820198909852958301600020805467ffffffffffffffff19811667ffffffffffffffff9182169a909a01169890981790975550600880548251600260018316159099029097011696909604601f810185900485028601850190915280855261058c95899533959094509092508301828280156105825780601f1061055757610100808354040283529160200191610582565b820191906000526020600020905b81548152906001019060200180831161056557829003601f168201915b5050505050610f2b565b50600195945050505050565b60095473ffffffffffffffffffffffffffffffffffffffff1681565b6040805160208082528183019092526060918291600091829182918591908082016104008038833901905050945060009350600092505b6020831015610681576008830260020a870291507fff000000000000000000000000000000000000000000000000000000000000008216156106715781858581518110151561063657fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600190930192610676565b610681565b6001909201916105eb565b836040519080825280601f01601f1916602001820160405280156106af578160200160208202803883390190505b509050600092505b838310156107615784838151811015156106cd57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f010000000000000000000000000000000000000000000000000000000000000002818481518110151561072657fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053506001909201916106b7565b9695505050505050565b600c6020526000908152604090205481565b6000806000606061078c610eb8565b925082151561079a57600080fd5b6000838152600c602052604090205491508115156107b757600080fd5b6107c0826105b4565b9050846107cc82610f75565b116107d657600080fd5b6107f786828760206040519081016040528060008152506000600102610fac565b151561080257600080fd5b60088054604080516020601f6002600019610100600188161502019095169490940493840181900481028201810190925282815261086493879333938301828280156105825780601f1061055757610100808354040283529160200191610582565b151561058c57600080fd5b600e60209081526000928352604080842090915290825290205467ffffffffffffffff1681565b600080826040518082805190602001908083835b602083106108c95780518252601f1990920191602091820191016108aa565b51815160209384036101000a600019018019909216911617905260408051929094018290039091206000908152600d909152919091205467ffffffffffffffff169695505050505050565b6008805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152929183018282801561099a5780601f1061096f5761010080835404028352916020019161099a565b820191906000526020600020905b81548152906001019060200180831161097d57829003601f168201915b505050505081565b6009546000908190819073ffffffffffffffffffffffffffffffffffffffff1633146109cd57600080fd5b836040518082805190602001908083835b602083106109fd5780518252601f1990920191602091820191016109de565b51815160209384036101000a600019018019909216911617905260408051929094018290039091206000818152600a9092529290205491955050159150610a45905057600080fd5b610a50600085610eeb565b15610bad5760088054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152610ab89360009384938301828280156105825780601f1061055757610100808354040283529160200191610582565b9050801515610ac657600080fd5b6000828152600a60209081526040808320849055838352600b9091529020829055610af084611004565b6000828152600c6020908152604080832093909355825180820185905283815287519381019390935286517f1d656235b7221145ae45c1f1cecc1ad11d2e87e6a6bfdaceaa0d6c30d6a17ff9938893869391928392606084019290870191908190849084905b83811015610b6e578181015183820152602001610b56565b50505050905090810190601f168015610b9b5780820380516001836020036101000a031916815260200191505b50935050505060405180910390a18092505b5050919050565b600080600080846040518082805190602001908083835b60208310610bea5780518252601f199092019160209182019101610bcb565b51815160209384036101000a600019018019909216911617905260408051929094018290039091206000818152600a835284812054808252600b909352939093205492975095505085149150610c41905057600080fd5b610c4961100b565b6040518082805190602001908083835b60208310610c785780518252601f199092019160209182019101610c59565b51815160209384036101000a600019018019909216911617905260408051929094018290039091206000898152600e8352848120828252909252929020549194505067ffffffffffffffff1615159150610cd3905057600080fd5b811515610cdf57600080fd5b6000838152600e602090815260408083208484529091529020543467ffffffffffffffff9091161115610d1157600080fd5b60088054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152610d7393869333938301828280156105825780601f1061055757610100808354040283529160200191610582565b50811515610d8057600080fd5b506000908152600b602052604081205550600192915050565b6009546000908190819073ffffffffffffffffffffffffffffffffffffffff163314610dc457600080fd5b856040518082805190602001908083835b60208310610df45780518252601f199092019160209182019101610dd5565b51815160209384036101000a60001901801990921691161790526040519190930181900381208a519097508a95509093508392850191508083835b60208310610e4e5780518252601f199092019160209182019101610e2f565b51815160209384036101000a600019018019909216911617905260408051929094018290039091206000978852600e8252838820908852905250909320805467ffffffffffffffff191667ffffffffffffffff969096169590951790945550600195945050505050565b6040805160208082528183019092526000916060919080820161040080388339019050509050600654602082a151919050565b60408051818152606080820183526000929091906020820161080080388339019050509050828152836020820152600054604082a1602001519392505050565b60408051606080825260808201909252600091908160208201610c008038833901905050905080858152846020820152836040820152600354606082a16040015195945050505050565b6040805160208082528183019092526000916060919080820161040080388339019050509050828152600154602082a15192915050565b6040805160a080825260c0820190925260009160609190602082016114008038833901905050905086815285602082015284604082015283606082015282608082015260025460a082a1608001519695505050505050565b6020015190565b604080516020808252818301909252606091829160009180820161040080388339019050509150600454602083a1508051611045816105b4565b92505050905600a165627a7a72305820e978f8631a25885bfae2b61918b8263291ae165d16c9e463968891f55b70de0c0029',
//         gas: '4700000'
//     }, function (e, contract){
//         console.log(e, contract);
//         if (typeof contract.address !== 'undefined') {
//             console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
//         }
//     })
//Contract mined! address: 2KgmNXhYMH4nA7ih5ZWh8uD3q9hoiBZzN84YyFVpqSPKb4qxZZrYmpzG89PS3deWaes5oxBYdCATqpjtActJynMF transactionHash: 0xc409cdc0665d62c24c8726b13ef329f19105a5cf7308f25abbe929228527315b

// var anonymouscoin = anonymouscoinContract.at("2KgmNXhYMH4nA7ih5ZWh8uD3q9hoiBZzN84YyFVpqSPKb4qxZZrYmpzG89PS3deWaes5oxBYdCATqpjtActJynMF");

// anonymouscoin.registerToken("XXB",{from:web3.sero.accounts[0],gas:2000000})


// anonymouscoin.setPrice("XXB","SERO",100000,{from:web3.sero.accounts[0],gas:2000000})

// anonymouscoin.buyTicket("XXB",{from:web3.sero.accounts[0],gas:2000000,value:100000})

// anonymouscoin.increaseToken(100000000,{from:web3.sero.accounts[0],gas:2000000,catg:"COINA",tkt:"0xd45aa670d56d1c2908fabd755b66862346d2cbd6acd3dedb6f88e73e3f6c311c"})

// anonymouscoin.transfer(web3.sero.accounts[1],100,{from:web3.sero.accounts[0],gas:2000000,catg:"COINA",tkt:"0xd45aa670d56d1c2908fabd755b66862346d2cbd6acd3dedb6f88e73e3f6c311c"})

